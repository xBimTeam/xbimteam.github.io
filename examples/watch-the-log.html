<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="xbim toolkit is an Open Source toolkit for IFC and BIM. You can use it to do anything with IFC. It implements IFC2x3 and IFC4 and allows to develop SW agnostic to IFC version and file format.">
    <meta name="author" content="xbim ltd.">
	<meta name="keywords" content="xbim,BIM,C#,CSharp,NET,OpenBIM,IFC,buildingSMART,standard,documentation,examples">
	<meta name="google-site-verification" content="0uIEEP0H5QWrL3gUPIdxOhMzGT0ZArO6rdpj9TOeeEQ" />

    <link rel="icon" href="../img/favicon.ico">

    <title>Watch the log!</title>

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Google fonts -->
	<link target="_blank" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;700&family=Roboto:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet"> 

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom styles for this template -->
    <link href="../css/codestyles.css" rel="stylesheet">
    <link href="../css/site.css" rel="stylesheet">

    <script src="../js/jquery.min.js"></script>

	<!-- Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-51899259-2', 'auto');
		ga('send', 'pageview');
	</script>

	<!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
	<script type="application/ld+json">
	{
	  "@context" : "http://schema.org",
	  "@type" : "SoftwareApplication",
	  "name" : "xbim toolkit",
	  "image" : "https://docs.xbim.net../img/xBim_toolkit_logo.png",
	  "url" : "https://docs.xbim.net/",
	  "author" : {
	    "@type" : "Person",
	    "name" : "prof. Steve Lockley"
	  },
	  "applicationCategory" : "BIM",
	  "downloadUrl" : "https://www.nuget.org/packages?q=xbim",
	  "softwareVersion" : "4.0"
	}
	</script>
  </head>
<!-- NAVBAR
================================================== -->
  <body>

    <nav class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html"><img alt="logo" src="../img/xBim_toolkit_logo.png"/></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          		   
	<ul class="nav navbar-nav">
		
        <li>
			<a href="../quick-start.html">Quick Start</a>
		</li>
        <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples <span class="caret"></span></a>
			
	<ul class="dropdown-menu">
		
        <li>
			<a href="../examples/examples-list.html">Examples list</a>
		</li>
		<li role="separator" class="group-divider">Basic </li>
		
        <li>
			<a href="../examples/basic-model-operations.html">Basic Model Operations</a>
		</li>
        <li class="active">
			<a href="../examples/watch-the-log.html">Watch the log!</a>
		</li>
		
        <li>
			<a href="../examples/proper-wall-in-3d.html">Proper Wall in 3D</a>
		</li>
		
        <li>
			<a href="../examples/step-to-xml-and-back-again.html">STEP to XML and Back Again</a>
		</li>
		
        <li>
			<a href="../examples/creating-wexbim-file.html">Creating wexBIM file</a>
		</li>
		
        <li>
			<a href="../examples/using-linq-for-optimal-performance.html">Using LINQ for Optimal Performance</a>
		</li>
		
        <li>
			<a href="../examples/excel-space-report-from-ifc.html">Excel Space Report from IFC</a>
		</li>
		
        <li>
			<a href="../examples/spatial-hierarchy.html">Spatial hierarchy</a>
		</li>
		<li role="separator" class="group-divider">Advanced </li>
		
        <li>
			<a href="../examples/federating-models.html">Federating Models</a>
		</li>
		
        <li>
			<a href="../examples/insert-copy-function.html">Insert Copy Function</a>
		</li>
		
        <li>
			<a href="../examples/change-log-creation.html">Change Log Creation</a>
		</li>
		<li role="separator" class="group-divider">Downloads </li>
		
        <li>
			<a href="../examples/xbimxplorer.html">XbimXplorer</a>
		</li>
    </ul>

		</li>
        <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Release notes <span class="caret"></span></a>
			
	<ul class="dropdown-menu">
		
        <li>
			<a href="../release-notes/fast-upgrade-track.html">Fast Upgrade Track</a>
		</li>
		
        <li>
			<a href="../release-notes/xbim-4-release-notes.html">xBIM 4 Release Notes</a>
		</li>
    </ul>

		</li>
        <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Research <span class="caret"></span></a>
			
	<ul class="dropdown-menu">
		
        <li>
			<a href="../research/history.html">History</a>
		</li>
		
        <li>
			<a href="../research/how-to-reference.html">How to reference</a>
		</li>
		
        <li>
			<a href="../research/ifc2x3-test-harness.html">Ifc2X3 Test Harness</a>
		</li>
    </ul>

		</li>
        <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Downloads <span class="caret"></span></a>
			
	<ul class="dropdown-menu">
		
        <li>
			<a href="../downloads/xbimxplorer.html">XbimXplorer</a>
		</li>
    </ul>

		</li>
        <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">License <span class="caret"></span></a>
			
	<ul class="dropdown-menu">
		
        <li>
			<a href="../license/license.html">License</a>
		</li>
		
        <li>
			<a href="../license/third-party-licenses.html">Third Party Licenses</a>
		</li>
    </ul>

		</li>
		
        <li>
			<a href="../cloud.html">Cloud</a>
		</li>
    </ul>

        </div><!--/.nav-collapse -->
      </div>
    </nav>

	<div class="container">
	<h1>Watch the log!</h1>

<p>Xbim is logging processing errors and warnings where exceptions are not appropriate.
It is heavily used in Xbim Geometry Engine to log all geometry errors. It is also used in the parser to log any syntactic problems with the file. 
If you have a file which doesn't look quite right you should always check the log first.</p>

<p>As a library we don't want to force you to use any specific logging library. To stay agnostic of the logging framework we use 
<a target="_blank" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.logging.abstractions?view=dotnet-plat-ext-3.1&amp;viewFallbackFrom=netstandard-2.1">Microsoft Logging Abstractions</a>.
Most of the common logging frameworks have their implementation of logging providers for these abstractions, which makes it easy to 
wire xbim in your wider application logging.</p>

<p>Setup is pretty easy. Just initialize <code>XbimLogging.LoggerFactory</code> before you do anything with xbim. We often use <a target="_blank" href="https://serilog.net/">Serilog</a> in our examples,
which looks like this:</p>

<div class="xml"><pre><code>    <span class="xmlDelimiter">&lt;</span><span class="xmlName">PackageReference</span> <span class="xmlAttribute">Include</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Serilog.Extensions.Logging</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">Version</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">2.0.2</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
    <span class="xmlDelimiter">&lt;</span><span class="xmlName">PackageReference</span> <span class="xmlAttribute">Include</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Serilog.Sinks.Console</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">Version</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">3.0.1</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
</code></pre></div>

<div class="csharp"><pre><code><span class="comment">// set up Serilog</span>
<span class="type">Log</span>.Logger = <span class="keyword">new</span> LoggerConfiguration()
   .Enrich.FromLogContext()
   .WriteTo.Console()
   .CreateLogger();

<span class="comment">// set up xbim logging. It will use your providers.</span>
<span class="type">XbimLogging</span>.LoggerFactory.AddSerilog();

<span class="comment">// do anything you want with xbim</span>
<span class="keyword">using</span> (<span class="keyword">var</span> model = <span class="type">IfcStore</span>.Open(fileName, <span class="keyword">null</span>, -1))
{
    <span class="comment">// ...</span>
}
</code></pre></div>

<h2>Xbim v4 and earlier</h2>

<p>Xbim used to use <a target="_blank" href="https://logging.apache.org/log4net/">Log4Net</a>. If you want to use it with newer versions of xbim you can use 
<a target="_blank" href="https://github.com/huorswords/Microsoft.Extensions.Logging.Log4Net.AspNetCore">Log4Net provider</a> for Microsoft abstractions.</p>

<p>There are many possible configurations of Log4Net including logging to console, creating continuous or rolling log file and others.
Some examples can be found <a target="_blank" href="https://logging.apache.org/log4net/release/config-examples.html">here</a>. The most basic configuration which will write all colourful log 
messages in console can look like this:</p>

<div class="xml"><pre><code><span class="xmlDelimiter">&lt;?</span><span class="xmlName">xml</span> <span class="xmlAttribute">version</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">1.0</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">encoding</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">utf-8</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">?&gt;</span>
<span class="xmlDelimiter">&lt;</span><span class="xmlName">configuration</span><span class="xmlDelimiter">&gt;</span>
  <span class="xmlDelimiter">&lt;</span><span class="xmlName">configSections</span><span class="xmlDelimiter">&gt;</span>
    <span class="xmlDelimiter">&lt;</span><span class="xmlName">section</span> <span class="xmlAttribute">name</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">log4net</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">type</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">log4net.Config.Log4NetConfigurationSectionHandler, log4net</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
  <span class="xmlDelimiter">&lt;/</span><span class="xmlName">configSections</span><span class="xmlDelimiter">&gt;</span>
  <span class="xmlDelimiter">&lt;</span><span class="xmlName">log4net</span><span class="xmlDelimiter">&gt;</span>
    <span class="htmlComment">&lt;!-- Defines default logging behaviour --&gt;</span>
    <span class="xmlDelimiter">&lt;</span><span class="xmlName">root</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">appender-ref</span> <span class="xmlAttribute">ref</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">console</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="htmlComment">&lt;!-- Set the default logging level to one of ALL DEBUG INFO WARN ERROR FATAL NONE --&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">ALL</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
    <span class="xmlDelimiter">&lt;/</span><span class="xmlName">root</span><span class="xmlDelimiter">&gt;</span>
    <span class="xmlDelimiter">&lt;</span><span class="xmlName">appender</span> <span class="xmlAttribute">name</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">console</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">type</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">log4net.Appender.ColoredConsoleAppender</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">FATAL</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">foreColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">White</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">backColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Red</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">ERROR</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">foreColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Red, HighIntensity</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">WARN</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">foreColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Green, HighIntensity</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">INFO</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">foreColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">Blue, HighIntensity</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">level</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">DEBUG</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">foreColor</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">White</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">mapping</span><span class="xmlDelimiter">&gt;</span>
      <span class="xmlDelimiter">&lt;</span><span class="xmlName">layout</span> <span class="xmlAttribute">type</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">log4net.Layout.PatternLayout</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlDelimiter">&gt;</span>
        <span class="xmlDelimiter">&lt;</span><span class="xmlName">conversionPattern</span> <span class="xmlAttribute">value</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">%-5level - %message  [%logger %type.%method Line %line]%newline</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
      <span class="xmlDelimiter">&lt;/</span><span class="xmlName">layout</span><span class="xmlDelimiter">&gt;</span>
    <span class="xmlDelimiter">&lt;/</span><span class="xmlName">appender</span><span class="xmlDelimiter">&gt;</span>
  <span class="xmlDelimiter">&lt;/</span><span class="xmlName">log4net</span><span class="xmlDelimiter">&gt;</span>
  <span class="xmlDelimiter">&lt;</span><span class="xmlName">startup</span><span class="xmlDelimiter">&gt;</span>
    <span class="xmlDelimiter">&lt;</span><span class="xmlName">supportedRuntime</span> <span class="xmlAttribute">version</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">v4.0</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlAttribute">sku</span><span class="xmlDelimiter">=</span><span class="xmlAttributeQuotes">&quot;</span><span class="xmlAttributeValue">.NETFramework,Version=v4.5.2</span><span class="xmlAttributeQuotes">&quot;</span> <span class="xmlDelimiter">/&gt;</span>
  <span class="xmlDelimiter">&lt;/</span><span class="xmlName">startup</span><span class="xmlDelimiter">&gt;</span>
<span class="xmlDelimiter">&lt;/</span><span class="xmlName">configuration</span><span class="xmlDelimiter">&gt;</span>
</code></pre></div>

<p>You can also use xbim infrastructure to log your own messages like this:</p>

<div class="csharp"><pre><code><span class="keyword">using</span> <span class="type">Xbim</span>.Common.Logging;
</code></pre></div>

<div class="csharp"><pre><code><span class="keyword">var</span> log = <span class="type">LoggerFactory</span>.GetLogger(); 

log.Info(<span class="string">&quot;Examples are just about to start.&quot;</span>);
log.Warn(<span class="string">&quot;Always use LINQ instead of general iterations!&quot;</span>);
log.Error(<span class="string">&quot;This is how the error would be logged with log4net.&quot;</span>);
log.Info(<span class="string">&quot;All examples finished.&quot;</span>);
</code></pre></div>

    </div>
    

	<div class="brands-container">
	<p><small>Some of the companies using xbim toolkit:</small></p>
		<a target="_blank" href="https://www.xbim.net"><img style="height:65px;" src="../img/xBim_parent_logo_white.svg" class="brand" alt="xbim ltd."></a>
		<img src="../img/logos/northumbria_logo_gray.png" class="brand"/>
		<img src="../img/logos/viewpoint_logo_gray.png" class="brand"/>
		<img src="../img/logos/welplan_logo_gray.png" class="brand"/>
		<img src="../img/logos/nbs_logo_gray.png" class="brand"/>
		<img src="../img/logos/bim_academy_logo_gray.png" class="brand"/>
		<img src="../img/logos/di5_logo_gray.png" class="brand"/>
		<img src="../img/logos/SEMA_logo_gray.png" class="brand"/>
	</div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
